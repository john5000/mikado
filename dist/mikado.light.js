/**!
 * Mikado.js v0.7.64 (Light)
 * Copyright 2019 Nextapps GmbH
 * Author: Thomas Wilkerling
 * Licence: Apache-2.0
 * https://github.com/nextapps-de/mikado
 */
(function(){'use strict';var r;var w={},z={},A={},B={},C={};function D(a,b,c){if(!(this instanceof D))return new D(a,b,c);a.nodeType||(c=b,b=a,a=null);a?this.mount(a):(this.g=this.l=null,this.length=0);this.init(b,c)}var E=D.register=function(a,b){b||(b=a,a=b.n);z[a]=b;return D};D.prototype.mount=function(a){if(this.g!==a){this.key&&this.g&&(this.g._o=this.o,this.o=a._o||{});this.g=a;F(this);var b;if(!(b=a._d)){b=a.children;for(var c=b.length,d=Array(c),e=0,f;e<c;e++)f=b[e],d[e]=f;b=a._d=d}this.l=b;this.length=this.l.length}return this};
D.prototype.index=function(a){return this.l.indexOf(a)};D.prototype.node=function(a){return this.l[a]};
D.prototype.init=function(a,b){"string"===typeof a?a=z[a]:(b||!a||a.n||(b=a,a=null),a?a.n&&E(a):a=z[this.A]);b||(b=this.G||{});this.F=!1!==b.reuse;this.state=b.state||w;this.cache=!1!==b.cache;this.G=b;var c=a.n;this.A!==c&&(this.A=c,this.u=a.d,this.B=this.m=null,this.D=!1!==b.prefetch&&G(this,a),F(this),this.o=(this.key=a.k)&&{},a=b.pool,this.C=this.F&&!1!==a&&"key"!==a&&(B[c]||(B[c]=[])),this.v=this.key&&!1!==a&&"queue"!==a&&(C[c]||(C[c]={})),this.size=this.C&&b.size);return this};
D.once=function(a,b,c,d,e){var f=new D(a,b);"function"===typeof d&&(e=d,d=null);if(e){var g=e;e=function(){f.destroy(1);g()}}f.render(c,d,e);e||f.destroy(1);return D};function F(a){if(a.g){var b=a.g._t;b!==a.A&&(a.g._t=a.A,b&&(a.o={},a.remove(0,a.length)))}}r=D.prototype;
r.create=function(a,b,c){var d=this.key,e=d&&a[d],f,g,k;if(d&&(g=this.v)&&(f=g[e]))if(g){if(g[e]=null,g=this.C){var l=f._n;f._n=null;var q=g.pop();q!==f&&(q._n=l,g[l]=q)}}else d=0;else(f=this.C)&&f.length?(f=f.pop(),g&&(f._n=null,g[f._k]=null)):f=k=this.D||(this.D=G(this,z[this.A]));this.apply(f,a,b,c);k&&(f=f.cloneNode(!0));d&&(f._k=e,this.o[e]=f);return f};
r.apply=function(a,b,c,d){if(!this.u){var e=this.B,f;if(!(f=a._p)){f=this.m.length;for(var g={},k=Array(f),l=0,q;l<f;l++){q=this.m[l];var x=l,m;if(!(m=g[q])){m=a;for(var p=0,h=q.length,n="";p<h;p++){var t=q[p];n+=t;g[n]?m=g[n]:(">"===t?m=m.firstElementChild:"+"===t?m=m.nextElementSibling:"|"===t&&(m=m.firstChild),g[n]=m)}}k[x]=m}f=a._p=k}e.call(this,f,a.$||(a.$={}),b,d,c);return this}};
r.render=function(a,b){var c=this.length;if(!a&&this.u)return this.l[0]||this.add(),this;var d=a.length;if("undefined"===typeof d)a=[a],d=1;else if(!d)return this.remove(0,c);var e=(this.v||!this.F)&&this.key;e||this.F||(this.remove(0,c,d),c=0);var f=c<d?c:d,g=0;if(g<f)for(;g<f;g++){var k=this.l[g],l=a[g];if(e&&k._k!==l[e])return this.reconcile(a,b,g,1);this.update(k,l,b,g)}if(g<d)for(;g<d;g++)this.add(a[g],b);else d<c&&this.remove(d,c-d);return this};
r.reconcile=function(a,b,c,d){var e=this.l,f=this.o,g=a.length,k=e.length,l=k>g?k:g,q=0,x=this.key;for(c||(c=0);c<l;c++){var m=void 0;if(c<g){var p=a[c],h=c>=k,n=void 0,t=void 0,y=void 0;if(!h&&(n=e[c],t=p[x],y=n._k,y===t)){d&&this.update(n,p,b,c);continue}if(h||!f[t]){d&&(h||!this.v?(k++,l=k>g?k:g,this.add(p,b,c)):this.replace(n,p,b,c));continue}for(var v=h=void 0,u=c+1;u<l;u++)if(!h&&u<k&&e[u]._k===t&&(h=u+1),!v&&u<g&&a[u][x]===y&&(v=u+1),h&&v){h>=v?(m=e[h-1],this.g.insertBefore(m,n),d&&this.update(m,
p,b,c),h===v?(1<u-c&&this.g.insertBefore(n,e[h]),e[c]=e[u],e[u]=n):(H(e,h-1,c),q++)):(p=v-1+q,this.g.insertBefore(n,e[p]||null),H(e,c,(p>k?k:p)-1),q--,c--);m=1;break}}m||(this.remove(c),k--,l=k>g?k:g,c--)}return this};function H(a,b,c,d){var e=d||a[b];d&&b++;if(b<c)for(;b<c;b++)a[b]=a[b+1];else for(;b>c;b--)a[b]=a[b-1];a[c]=e}
r.add=function(a,b,c,d){if(!d)if("number"===typeof b){c=b;b=null;var e=1}else if(c||0===c)e=1;c=d||e?c:this.length;a=this.create(a,b,c);e?(this.g.insertBefore(a,this.l[c]),H(this.l,this.length-1,c,a),this.length++):(d?this.g.replaceChild(a,d):(this.g.appendChild(a),this.length++),this.l[c]=a);return this};r.clear=function(){this.length&&this.remove(0,this.length);return this};r.destroy=function(a){a&&this.unload();this.length=0;this.o=this.l=this.g=this.A=this.m=this.B=this.D=null};
r.append=function(a,b,c){if("number"===typeof b){c=b;b=null;var d=1}else d=c||0===c;for(var e=a.length,f=0;f<e;f++)this.add(a[f],b,d?c++:null);return this};
r.remove=function(a,b,c){var d=this.length;a&&("object"===typeof a?a=this.index(a):0>a&&(a=d+a-1));if(!d||a>=d)return this;b?0>b&&(a-=b+1,0>a&&(a=0),b*=-1):b=1;!a&&b>=d?(a=this.l,b=a.length,this.g.textContent="",this.g._d=this.l=c?Array(c):[],d=0):(a=this.l.splice(a,b),d-=b);this.length=d;if(this.C&&!this.v&&1<b){c=a;for(var e=c.length,f=e/2|0,g=0,k;g<f;g++)k=c[g],c[g]=c[e-g-1],c[e-g-1]=k}for(c=0;c<b;c++)e=a[c],d&&this.g.removeChild(e),I(this,e);return this};
function I(a,b){if(a.key){var c=b._k;a.o[c]=null;a.v&&(a.v[c]=b)}a.C&&(c=a.C.length,!a.size||c<a.size)&&(a.v&&(b._n=c),a.C[c]=b)}r.replace=function(a,b,c,d){"undefined"===typeof d&&("number"===typeof a?(d=a,a=this.l[d]):d=this.index(a));var e;if(this.key&&(e=this.o[b[this.key]]))return this.apply(a,b,c,d),e!==a&&(b=this.index(e),this.l[d]=e,this.l[b]=a,b<d&&(d=a,a=e,e=d),d=a.nextElementSibling,this.g.insertBefore(a,e),d!==e&&this.g.insertBefore(e,d)),this;this.add(b,c,d,a);I(this,a);return this};
r.update=function(a,b,c,d){"undefined"===typeof d&&("number"===typeof a?(d=a,a=this.l[a]):d=this.index(a));if(this.key){var e=a._k,f=b[this.key];e!==f&&(this.o[e]=null,this.o[f]=a,a._k=f)}return this.apply(a,b,c,d)};var J;
function G(a,b,c,d,e){if(!c){var f=A[b.n+(a.cache?"$":"")];if(f)return a.B=f.B,a.u=f.u,a.m=f.m,f.node}f=document.createElement(b.t||"div");c||(c=0,d="&",J="",a.m=[],f._p=e=[],a.cache&&(f.$={}));var g=b.s,k=b.i,l=b.x,q=b.h,x=b.a,m=b.c,p=b.j,h=a.m.length,n=0,t="";p&&(t+=";"+p,-1<t.indexOf("self")&&(n=2));m&&("object"===typeof m?(m=""+m[0],t+=a.cache?";v="+m+";if(s._c"+h+"!==v){s._c"+h+"=v;self.className=v}":m?";self.className="+m:"",n++):f.className=m);if(x){var y;x&&(y=Object.keys(x));for(m=0;m<y.length;m++){p=
y[m];var v=void 0;!x||(v=x[p]);"object"===typeof v?(v=""+v[0],t+=a.cache?";v="+v+";if(s['_a_"+p+h+"']!==v){s['_a_"+p+h+"']=v;self[v||v===0?'setAttribute':'removeAttribute']('"+p+"',v)}":v?";v="+v+";self[v||v===0?'setAttribute':'removeAttribute']('"+p+"',v)":"",n++):f.setAttribute(p,v)}}g&&("string"===typeof g?f.style.cssText=g:g.length&&(g=g[0],t+=a.cache?";v="+g+";if(s._cs"+h+"!==v){s._cs"+h+"=v;(self._s||(self._s=self.style)).cssText=v}":g?";self.style.cssText="+g:"",n++));if(!k)if(l){if(y="object"===
typeof l){var u=!1;l=""+l[0]}g=document.createTextNode(l);y&&(n&&h++,a.m[h]=d+"|",e[h]=g,K(n,a.cache&&!u?";v="+l+";if(s._x"+h+"!==v){s._x"+h+"=v;self.nodeValue=v}":l?";self.nodeValue="+l:"",h),n&&h--);f.appendChild(g)}else q&&("object"===typeof q?(q=""+q[0],t+=a.cache?";v="+q+";if(s._h"+h+"!==v){s._h"+h+"=v;self.innerHTML=v}":q?";self.innerHTML="+q:"",n++):f.innerHTML=q);n?(a.m[h]=d,e[h]=f,a.u=0,K(n,t,h)):t&&(J+=t);if(k)if(k.length)for(u=">",l=0;l<k.length;l++)l&&(u+="+"),h=k[l],f.appendChild(G(a,
h,c+l+1,d+u,e));else f.appendChild(G(a,k,c+1,d+">",e));c||(!a.u&&J&&(a.B=Function("p","s","data","index","view",'"use strict";var self,v'+J)),A[b.n+(a.cache?"$":"")]={B:a.B,u:a.u,m:a.m,node:f});return f}function K(a,b,c){J=1<a?J+(";self=p["+c+"]"+b):J+b.replace(/self/g,"p["+c+"]")}D.prototype.unload=function(a){a?"object"===typeof a&&(a=a.n):a=this.A;a&&(z[a]=null,B[a]=C[a]=A[a]=null,A[a+"$"]=null);return this};D.unregister=D.unload=D.prototype.unload;var L=window,M;(M=L.define)&&M.amd?M([],function(){return D}):"object"===typeof L.exports?L.module.exports=D:L.Mikado=D;}).call(this);
